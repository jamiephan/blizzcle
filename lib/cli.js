#!/usr/bin/env node
"use strict";var program=require("commander"),Blizzcle=require("./index");program.version(require("../package.json").version).name("blizzcle").description("A command line interface tool to gather articles from Blizzard! (either -s or - )").option("-v, --verbose","Show verbose (debug) message").option("-d, --detail","Get the details for all articles (requires more HTTP request).",!1).option("-c, --count [n]","The maximun count for the articles to be parsed. 0 to be all.",parseInt,20).option("-g, --game [game]","Name of the game. (All for invalid name)","heroes-of-the-storm").option("-o, --output <file>","Set the output file path to be saved to. (Detect .json/.html)").option("-t, --type <type>","Override the output data type from -o. [json | html]").option("--language [lang]","The language of the articles.","en-us").option("--rawdata","Save the un-parsed data to JSON object (must have -d switch)",!1).option("--eval <code>","Eval a JS code, \"data\" as result variable.","console.log(data)").parse(process.argv);var blizzcle=new Blizzcle({verbose:program.verbose,count:program.count,filename:program.output,game:program.game,filetype:program.type,language:program.language,detail:program.detail,rawdata:program.rawdata});program.output?blizzcle.save({filename:program.output,type:program.type})// eslint-disable-next-line no-unused-vars
.then(function(data){// eslint-disable-next-line no-eval
eval(program.eval)})["catch"](console.error):blizzcle.get()// eslint-disable-next-line no-unused-vars
.then(function(data){// eslint-disable-next-line no-eval
eval(program.eval)})["catch"](console.error);